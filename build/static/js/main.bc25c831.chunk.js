(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{136:function(e,t,a){e.exports=a.p+"static/media/author_avatar.00dc406d.png"},22:function(e,t,a){"use strict";a.d(t,"h",function(){return n}),a.d(t,"i",function(){return r}),a.d(t,"j",function(){return l}),a.d(t,"k",function(){return o}),a.d(t,"f",function(){return c}),a.d(t,"g",function(){return i}),a.d(t,"d",function(){return s}),a.d(t,"e",function(){return u}),a.d(t,"l",function(){return m}),a.d(t,"c",function(){return p}),a.d(t,"b",function(){return d}),a.d(t,"a",function(){return h}),a.d(t,"m",function(){return f}),a.d(t,"n",function(){return g});var n="DEMO_ADD_COUNT",r="DEMO_LOGIN",l="DEMO_LOGINOUT",o="DEMO_REGISTER",c="COMMON_GET_WINDOW_WIDTH",i="COMMON_OPEN_DRAWER",s="COMMON_CLOSE_DRAWER",u="COMMON_COLOR_MAP",m="TAGS_GETLIST",p="CATEGORY_GETLIST",d="AUTH_OPEN_AUTHMODAL",h="AUTH_CLOSE_AUTHMODAL",f="USER_LOGIN",g="USER_LOGINOUT"},227:function(e,t,a){e.exports=a.p+"static/media/404.42671082.png"},229:function(e,t,a){e.exports=a.p+"static/media/loading.a9243304.gif"},255:function(e,t,a){e.exports=a(690)},266:function(e,t,a){},268:function(e,t,a){},34:function(e,t,a){"use strict";a.d(t,"e",function(){return s}),a.d(t,"a",function(){return u}),a.d(t,"b",function(){return m}),a.d(t,"d",function(){return p}),a.d(t,"c",function(){return d});var n=a(169),r=a.n(n),l=a(124),o=a.n(l),c=a(228),i=a.n(c),s=function(e){return r()(i()(e),{renderer:new r.a.Renderer,gfm:!0,pedantic:!1,sanitize:!1,tables:!0,breaks:!0,smartLists:!0,smartypants:!0,highlight:function(e){return o.a.highlightAuto(e).value}})},u=function(e){var t={};return e.replace(/\.*\?/,"").split("&").forEach(function(e){var a=e.split("=");a[1]&&a[0]&&(t[a[0]]=a[1])}),t},m=function(e){var t=e.length;return e.forEach(function(e){t+=e.replies.length}),t},p=function(e){return Math.floor(Math.random()*e.length)},d=function(e,t){var a={};return e.forEach(function(e){var n=JSON.stringify(t(e));a[n]=a[n]||[],a[n].push(e)}),Object.keys(a).map(function(e){return a[e]})}},376:function(e,t,a){},435:function(e,t,a){},437:function(e,t,a){},443:function(e,t,a){},53:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"c",function(){return c}),a.d(t,"d",function(){return i}),a.d(t,"b",function(){return s});a(97);var n=a(27),r=a(22),l=a(62),o=function(e){return function(t){return l.a.post("/login",e).then(function(e){return 200===e.code?(localStorage.setItem("token",e.token),t({type:r.m,payload:{token:e.token}})):n.a.error(e.message),e})}},c=function(e){return function(t){return l.a.post("/register",e).then(function(e){return 200===e.code?n.a.success(e.message):n.a.error(e.message),e})}},i=function(e){return function(t){return l.a.put("/user/".concat(e.userId),e).then(function(e){return 200===e.code?(n.a.success(e.message),localStorage.setItem("token",e.token),t({type:r.m,payload:{token:e.token}})):n.a.error(e.message),e})}},s=function(){return localStorage.removeItem("token"),{type:r.n}}},62:function(e,t,a){"use strict";a(97);var n,r=a(27),l=a(222),o=a.n(l).a.create({baseURL:"http://120.79.10.11:6060",timeout:2e4});o.interceptors.request.use(function(e){var t=localStorage.getItem("token");return t&&(e.headers.common.Authorization="Bearer "+t),e},function(e){r.a.error("bed request"),Promise.reject(e)}),o.interceptors.response.use(function(e){return 200!==e.data.code?(e.data.message&&r.a.warning(e.data.message),console.log(e.data),Promise.reject(e.data)):e.data},function(e){return clearTimeout(n),n=setTimeout(function(){if(e&&e.response)switch(e.response.status){case 400:r.a.error("\u9519\u8bef\u8bf7\u6c42");break;case 401:localStorage.clear(),r.a.error("\u767b\u5f55\u4fe1\u606f\u8fc7\u671f\u6216\u672a\u6388\u6743\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01");break;case 403:r.a.error("\u62d2\u7edd\u8bbf\u95ee\uff01");break;case 404:r.a.error("\u8bf7\u6c42\u9519\u8bef,\u672a\u627e\u5230\u8be5\u8d44\u6e90\uff01");break;case 500:r.a.err("\u670d\u52a1\u5668\u51fa\u95ee\u9898\u4e86\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01");break;default:r.a.err("\u8fde\u63a5\u9519\u8bef ".concat(e.response.status,"\uff01"))}else r.a.error("\u670d\u52a1\u5668\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")},200),Promise.reject(e)}),t.a=o},641:function(e,t,a){},647:function(e,t,a){},653:function(e,t,a){},657:function(e,t,a){},659:function(e,t,a){},664:function(e,t,a){},675:function(e,t,a){},681:function(e,t,a){},683:function(e,t,a){},687:function(e,t,a){},690:function(e,t,a){"use strict";a.r(t);var n,r,l,o,c,i,s,u=a(0),m=a.n(u),p=a(9),d=a.n(p),h=a(234),f=a(19),g=a(11),b=a(12),E=a(15),v=a(13),y=a(14),O=a(786),j=a(711),k=a(793),w=a(787),C=a(87),N=(a(244),a(209)),I=(a(113),a(70)),L=(a(114),a(59)),S=(a(148),a(44)),M=(a(266),a(268),a(111),a(69)),x=(a(80),a(20)),A=(a(40),a(4)),T=a(333),R=function(e){var t=e.navList,a=m.a.createElement(x.a,{className:"header-nav"},t.map(function(e){return m.a.createElement(x.a.Item,{key:e.link},m.a.createElement(T.a,{to:e.link},e.icon&&m.a.createElement(A.a,{type:e.icon,style:{marginRight:15}}),m.a.createElement("span",{className:"nav-text"},e.title)))}));return m.a.createElement("div",{className:"header-left"},m.a.createElement("i",{className:"iconfont icon-airplane",style:{color:"#055796"}}),m.a.createElement("span",{className:"blog-name"},"\u738b\u6d77\u9f99\u7684\u535a\u5ba2"),m.a.createElement(M.a,{overlayClassName:"header-dropdown",trigger:["click"],overlay:a},m.a.createElement(A.a,{type:"menu-o",className:"nav-phone-icon"})))},P=(a(55),a(32)),D=a(791),F=Object(D.a)(n=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={keyword:""},a.handleChange=function(e){return a.setState({keyword:e.target.value})},a.handleSubmit=function(){var e=a.state.keyword;e&&a.props.history.push("/?page=1&keyword=".concat(e))},a.handlePressEnter=function(e){e.target.blur()},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return m.a.createElement(I.a,{id:"search-box"},m.a.createElement(L.a,null,m.a.createElement(A.a,{type:"search",className:"anticon"}),m.a.createElement(P.a,{type:"text",value:this.state.keyword,onChange:this.handleChange,onBlur:this.handleSubmit,onPressEnter:this.handlePressEnter,className:"header-search",placeholder:"\u641c\u7d22\u6587\u7ae0",style:{width:200}})))}}]),t}(u.Component))||n,U=Object(D.a)((o=l=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.navList,a=e.mode;return m.a.createElement(x.a,{mode:a,selectedKeys:[this.props.location.pathname],className:"header-nav"},t.map(function(e){return m.a.createElement(x.a.Item,{key:e.link},m.a.createElement(T.a,{to:e.link},e.icon&&m.a.createElement(A.a,{type:e.icon}),m.a.createElement("span",{className:"nav-text"},e.title)))}))}}]),t}(u.Component),l.defaultProps={mode:"horizontal"},r=o))||r,V=(a(51),a(21)),_=(a(119),a(63)),z=a(23),W=a(53),q=a(22),K=function(e){return{type:q.b,payload:e}},H=function(){return{type:q.g}},G=function(){return{type:q.d}},B=function(e){return{type:q.e,payload:e}},J=(a(141),a(85)),Q=(a(98),a(43)),X=(a(371),a(226)),Y=(a(97),a(27)),$=(a(245),a(183)),Z=(a(376),a(86)),ee=$.a.Group,te=[{label:"\u7528\u6237\u540d",value:"changeUsername"},{label:"\u5bc6\u7801",value:"changePassword"}],ae=Object(z.b)(function(e){return{authModalVisible:e.common.authModalVisible,authModalType:e.common.authModalType,userInfo:e.user}},{login:W.a,register:W.c,updateUser:W.d,closeAuthModal:function(e){return{type:q.a,payload:e}},openAuthModal:K})(c=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={type:"login",formMeta:{elements:[]},checkboxList:["changeUsername"]},a.getFormMeta=function(e){var t=a.props.userInfo,n=a.state.checkboxList,r={login:["account","password"],register:["username","password","confirm","email"]};if("updateUser"===e)if(t.email){var l={changeUsername:["username","oldPassword","email"],changePassword:["oldPassword","password","confirm","email"]},o=[];n.forEach(function(e){l[e].forEach(function(e){return!o.includes(e)&&o.push(e)})}),r.updateUser=o}else r.updateUser=["email"];return{formItemLayout:{colon:!1,labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}},elements:[{key:"email",label:"\u90ae\u7bb1",initialValue:t.email,widget:m.a.createElement(P.a,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u90ae\u7bb1",disabled:!!t.email}),rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},{key:"account",label:"\u90ae\u7bb1/\u7528\u6237\u540d",widget:m.a.createElement(P.a,{placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1/\u7528\u6237\u540d"}),rules:[{required:!0,message:"Email/Username is required"}]},{key:"username",label:"\u7528\u6237\u540d",initialValue:t.username,widget:m.a.createElement(P.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}),rules:[{required:!0,message:"Username is required"}]},{key:"oldPassword",label:n.includes("changePassword")?"\u539f\u5bc6\u7801":"\u5bc6\u7801",widget:m.a.createElement(P.a,{placeholder:n.includes("changePassword")?"\u8bf7\u8f93\u5165\u539f\u5bc6\u7801":"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"}),rules:[{required:!0,message:"Password is required"}]},{key:"password",label:"\u5bc6\u7801",widget:m.a.createElement(P.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"}),rules:[{required:!0,message:"Password is required"}]},{key:"confirm",label:"\u786e\u8ba4\u5bc6\u7801",widget:m.a.createElement(P.a,{placeholder:"\u786e\u8ba4\u5bc6\u7801",type:"password"}),rules:[{required:!0,message:"Please confirm your password!"},{validator:a.compareToFirstPassword}]}].filter(function(t){return r[e]&&r[e].includes(t.key)})}},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){if(!e){var n=a.props,r=n.authModalType,l=n.userInfo;"updateUser"===r&&(t.userId=l.userId),a.props[r](t).then(function(e){200===e.code&&a.props.closeAuthModal()})}})},a.handleClose=function(){return a.props.closeAuthModal(a.state.type)},a.checkboxChange=function(e){if(0===e.length)return Y.a.warning("\u81f3\u5c11\u9009\u62e9\u4e00\u9879\uff01");a.setState({checkboxList:e},function(){var e=a.getFormMeta(a.props.authModalType);a.setState({formMeta:e})})},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.authModalType!==this.props.authModalType&&e.authModalVisible){e.form.resetFields();var t=this.getFormMeta(e.authModalType);this.setState({formMeta:t,type:e.authModalType})}}},{key:"render",value:function(){var e=this.state,t=e.type,a=e.formMeta,n=e.checkboxList,r=this.props,l=r.authModalVisible,o=r.userInfo,c=r.authModalType,i={login:"\u767b\u5f55",register:"\u6ce8\u518c",updateUser:o.email?"\u4fee\u6539\u8d26\u6237\u4fe1\u606f":"\u7ed1\u5b9a\u90ae\u7bb1"};return m.a.createElement(J.a,{title:i[t],width:460,footer:null,onCancel:this.handleClose,visible:l},"updateUser"!==c?null:o.email?m.a.createElement("div",{className:"select-changes"},m.a.createElement("span",{className:"text"},"\u9009\u62e9\u60a8\u8981\u4fee\u6539\u7684\u4e2a\u4eba\u4fe1\u606f\uff1a"),m.a.createElement(ee,{options:te,value:n,onChange:this.checkboxChange})):m.a.createElement(m.a.Fragment,null,m.a.createElement(X.a,{message:"\u60a8\u672a\u7ed1\u5b9a\u90ae\u7bb1\uff01\u7ed1\u5b9a\u90ae\u7bb1\u540e\u624d\u80fd\u8fdb\u884c\u4e2a\u4eba\u4fe1\u606f\u7684\u4fee\u6539\uff01\u90ae\u7bb1\u4e00\u65e6\u88ab\u7ed1\u5b9a\u5c06\u4e0d\u53ef\u4fee\u6539\uff01\uff01",type:"warning",showIcon:!0,banner:!0}),m.a.createElement("br",null)),m.a.createElement(Q.a,{layout:"horizontal"},m.a.createElement(Z.a,{meta:a,form:this.props.form}),m.a.createElement("div",{className:"tips-wrap"},m.a.createElement("span",{className:"tips"},"\u5fd8\u8bb0\u5bc6\u7801\u8bf7\u8054\u7cfb\u535a\u4e3b gershonv@163.com")),m.a.createElement(V.a,{type:"primary",block:!0,htmlType:"submit",onClick:this.handleSubmit},i[t])))}}]),t}(u.Component))||c,ne=Q.a.create()(ae),re=Object(z.b)(function(e){return{username:e.user.username,avatarColor:e.user.avatarColor}},{register:W.c,logout:W.b,openAuthModal:K})(i=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).renderAvatarDropdownMenu=function(){return m.a.createElement(x.a,null,m.a.createElement(x.a.Item,null,m.a.createElement("span",{className:"user-logout",onClick:function(){return a.props.openAuthModal("updateUser")}},"\u4fee\u6539\u8d26\u6237\u4fe1\u606f")),m.a.createElement(x.a.Item,null,m.a.createElement("span",{className:"user-logout",onClick:a.props.logout},"\u9000\u51fa\u767b\u5f55")))},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.username,n=t.avatarColor;return m.a.createElement("div",{id:"header-userInfo"},a?m.a.createElement(M.a,{placement:"bottomCenter",overlay:this.renderAvatarDropdownMenu(),trigger:["click","hover"]},m.a.createElement(_.a,{className:"user-avatar",size:"large",style:{backgroundColor:n}},a)):m.a.createElement(u.Fragment,null,m.a.createElement(V.a,{ghost:!0,type:"primary",size:"small",style:{marginRight:20},onClick:function(){return e.props.openAuthModal("login")}},"\u767b\u5f55"),m.a.createElement(V.a,{ghost:!0,type:"danger",size:"small",onClick:function(){return e.props.openAuthModal("register")}},"\u6ce8\u518c")),m.a.createElement(ne,null))}}]),t}(u.Component))||i,le=S.a.Header,oe=[{icon:"home",title:"\u9996\u9875",link:"/"},{icon:"edit",title:"\u5f52\u6863",link:"/archives"},{icon:"folder",title:"\u5206\u7c7b",link:"/categories"},{icon:"user",title:"\u5173\u4e8e",link:"/about"}],ce=function(){return m.a.createElement(le,{className:"header-contaienr"},m.a.createElement(I.a,null,m.a.createElement(L.a,{xxl:4,xl:5,lg:5,sm:4,xs:24},m.a.createElement(R,{navList:oe})),m.a.createElement(L.a,{xxl:20,xl:19,lg:19,sm:20,xs:0},m.a.createElement(F,null),m.a.createElement(re,null),m.a.createElement(U,{navList:oe}))))},ie=(a(109),a(68)),se=(a(76),a(37)),ue=(a(435),a(136)),me=a.n(ue);function pe(e){var t=e.length;return Math.floor(Math.random()*t)}var de,he,fe,ge,be,Ee,ve,ye=Object(z.b)(function(e){return{tagList:e.article.tagList,colorList:e.common.colorList}})(s=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={recentList:[]},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.axios.get("/article/getList",{params:{page:1,pageSize:6}}).then(function(t){e.setState({recentList:t.rows})})}},{key:"render",value:function(){var e=this.props,t=e.tagList,a=e.colorList,n=this.state.recentList;return m.a.createElement("div",{className:"sider-wrapper"},m.a.createElement("img",{src:me.a,className:"sider-avatar",alt:""}),m.a.createElement("h2",{className:"name"},"oliver"),m.a.createElement("div",{className:"title"},"\u524d\u7aef\u6253\u6742\u4eba\u5458\uff0c\u7565\u5fae\u4ee3\u7801\u6d01\u7656"),m.a.createElement("ul",{className:"link-list"},m.a.createElement("li",null,m.a.createElement(A.a,{type:"github"}),m.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://github.com/gershonv"},"github")),m.a.createElement("li",null,m.a.createElement("i",{className:"iconfont icon-juejin"}),m.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://juejin.im/user/5acac6c4f265da2378408f92"},"juejin"))),m.a.createElement(se.a,{orientation:"left"},"\u6700\u8fd1\u6587\u7ae0"),m.a.createElement("ul",{className:"recent-list"},n.map(function(e){return m.a.createElement("li",{key:e.id},m.a.createElement(T.a,{to:"/article/".concat(e.id)},e.title))})),m.a.createElement(se.a,{orientation:"left"},"\u6807\u7b7e"),m.a.createElement("div",{className:"tags-content"},t.map(function(e,t){return m.a.createElement(ie.a,{key:t,color:a[t]?a[t]:a[pe(a)]},m.a.createElement(T.a,{to:"/tags/".concat(e.name)},e.name))})))}}]),t}(u.Component))||s,Oe=(S.a.Content,S.a.Footer,S.a.Sider,function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return m.a.createElement(S.a,{className:"app-container"},m.a.createElement(ce,null),m.a.createElement(I.a,{className:"main-wrapper"},m.a.createElement(L.a,{xxl:4,xl:5,lg:5,sm:0,xs:0},m.a.createElement(ye,null)),m.a.createElement(L.a,{xxl:20,xl:19,lg:19,sm:24,xs:24},m.a.createElement("div",{className:"content-wrapper"},this.props.children))),m.a.createElement(N.a,{target:function(){return document.querySelector(".content-wrapper")}}))}}]),t}(u.Component)),je=(a(437),a(227)),ke=a.n(je),we=function(){return m.a.createElement("div",{className:"nofound-wrapper"},m.a.createElement("img",{src:ke.a,alt:"",className:"green-man"}),m.a.createElement("i",{className:"iconfont icon-back",style:{color:"green",marginRight:6}}),m.a.createElement(T.a,{to:"/"},"\u8fd4\u56de\u9996\u9875"))},Ce=(a(185),a(94)),Ne=(a(210),a(138)),Ie=(a(443),a(34)),Le=Object(z.b)(function(e){return{colorList:e.common.colorList}})(de=Object(D.a)((fe=he=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.list,n=e.colorList;return m.a.createElement(u.Fragment,null,m.a.createElement(se.a,{type:"vertical"}),"tags"===t?m.a.createElement("i",{className:"iconfont icon-tags",style:{marginRight:7,verticalAlign:"middle"}}):m.a.createElement(A.a,{type:"folder",style:{marginRight:7}}),a.map(function(e,a){return m.a.createElement(ie.a,{color:"tags"===t?n[a]:"#2db7f5",key:e.name},m.a.createElement(T.a,{to:"/".concat(t,"/").concat(e.name)},e.name))}))}}]),t}(u.Component),he.defaultProps={type:"tags",list:[]},de=fe))||de)||de,Se=function(e){var t=e.list;return m.a.createElement("ul",{className:"preview"},m.a.createElement(se.a,null,"\u9884\u89c8"),t.map(function(e){return m.a.createElement("li",{key:e.id},m.a.createElement(T.a,{to:"/article/".concat(e.id)},e.title))}))},Me=(a(146),a(88)),xe=a(229),Ae=a.n(xe),Te=document.getElementById("component-loading"),Re=m.a.createElement(A.a,{type:"loading",style:{fontSize:24},spin:!0}),Pe={position:"absolute",right:"20px",top:"20px"},De=function(){return d.a.createPortal(m.a.createElement(Me.a,{indicator:Re,style:Pe}),Te)},Fe=function(){return m.a.createElement("img",{src:Ae.a,alt:"",className:"loading"})},Ue=(a(251),a(217)),Ve=Object(z.b)(function(e){return{windowWidth:e.common.windowWidth}})((Ee=be=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.total,a=e.current,n=e.onChange,r=e.pageSize;return m.a.createElement("div",{className:"pagination"},m.a.createElement(Ue.a,{current:a,onChange:n,total:t,pageSize:r,simple:this.props.windowWidth<736}))}}]),t}(u.Component),be.defaultProps={pageSize:10},ge=Ee))||ge,_e=function(e){var t=e.keyword;return m.a.createElement(u.Fragment,null,"\u4e0d\u5b58\u5728\u6807\u9898\u4e2d\u542b\u6709 ",m.a.createElement("span",{className:"keyword"},t)," \u7684\u6587\u7ae0\uff01")},ze=Object(z.b)(function(e){return{drawerVisible:e.common.drawerVisible,windowWidth:e.common.windowWidth}},{openDrawer:H,closeDrawer:G})(ve=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],total:0,loading:!1},a.jumpTo=function(e){a.props.history.push("/article/".concat(e))},a.handlePageChange=function(e){document.querySelector(".content-wrapper").scrollTop=0;var t,n=Object(f.a)({},Object(Ie.a)(a.props.location.search),{page:e});Object.entries(n).forEach(function(e){t=t?"".concat(t,"&").concat(e[0],"=").concat(e[1]):"?".concat(e[0],"=").concat(e[1])}),a.props.history.push(t)},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.closeDrawer();var e=Object(Ie.a)(this.props.location.search);this.fetchList(e)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.location.search!==e.location.search){var t=Object(Ie.a)(e.location.search);this.fetchList(t)}}},{key:"fetchList",value:function(e){var t=this,a=e.page,n=e.keyword;this.setState({loading:!0}),this.axios.get("/article/getList",{params:{page:a,pageSize:10,title:n}}).then(function(e){var a=e.rows;a.forEach(function(e){var t=e.content.indexOf("\x3c!--more--\x3e");e.description=Object(Ie.e)(e.content.slice(0,t))}),t.setState({list:a,total:e.count,loading:!1})}).catch(function(e){return t.setState({loading:!1})})}},{key:"componentWillUnmount",value:function(){this.props.closeDrawer()}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.total,r=t.loading,l=Object(Ie.a)(this.props.location.search),o=l.page,c=l.keyword;return m.a.createElement("div",{className:"content-inner-wrapper home"},r?m.a.createElement(Fe,null):m.a.createElement(u.Fragment,null,m.a.createElement("ul",{className:"ul-list"},a.map(function(t){return m.a.createElement("li",{key:t.id,className:"ul-list-item"},m.a.createElement(se.a,{orientation:"left"},m.a.createElement("span",{className:"title",onClick:function(){return e.jumpTo(t.id)}},t.title),m.a.createElement("span",{className:"create-time"},t.createdAt.slice(0,10))),m.a.createElement("div",{onClick:function(){return e.jumpTo(t.id)},className:"article-detail description",dangerouslySetInnerHTML:{__html:t.description}}),m.a.createElement("div",{className:"list-item-action"},m.a.createElement(A.a,{type:"message",style:{marginRight:7}}),Object(Ie.b)(t.comments),m.a.createElement(Le,{type:"tags",list:t.tags}),m.a.createElement(Le,{type:"categories",list:t.categories})))})),a.length>0?m.a.createElement(u.Fragment,null,a.length<n&&m.a.createElement(Ve,{current:parseInt(o)||1,onChange:this.handlePageChange,total:n}),this.props.windowWidth>1300?m.a.createElement(Se,{list:a}):m.a.createElement(u.Fragment,null,m.a.createElement("div",{className:"drawer-btn",onClick:this.props.openDrawer},m.a.createElement(A.a,{type:"menu-o",className:"nav-phone-icon"})),m.a.createElement(Ne.a,{title:"\u6587\u7ae0\u5bfc\u822a",placement:"right",closable:!1,onClose:this.props.closeDrawer,visible:this.props.drawerVisible},m.a.createElement(Se,{list:a})))):m.a.createElement("div",{className:"no-data"},m.a.createElement(Ce.a,{description:m.a.createElement(_e,{keyword:c})}))))}}]),t}(u.Component))||ve,We=(a(641),a(252),a(175)),qe=We.a.Link;function Ke(e){var t=[];return e.replace(/<(h[1-6])[\s\S]+?(?=<\/\1>)/g,function(e,a){var n=e.replace(/.*?>/,""),r=function(e){var t=e.replace(/(\s)|(,)/g,"-").replace(/[.\/()]/g,"");return"#".concat(t.replace(/-+/g,"-"))}(n);!function e(t,a){var n=t[t.length-1];n&&n.tag!==a.tag?e(n.children,a):t.push(a)}(t,{tag:a,title:n,href:r,children:[]})}),t}var He,Ge,Be,Je,Qe,Xe,Ye,$e,Ze,et,tt=function(e){var t=Ke(e.content);return m.a.createElement(We.a,{affix:!1},t.map(function e(t){var a=t.href,n=t.title,r=t.children;return m.a.createElement(qe,{key:a,href:a,title:n},r.length>0&&r.map(function(t){return e(t)}))}))},at=(a(215),a(137)),nt=(a(647),function(e){var t=e.size,a=void 0===t?"default":t;return m.a.createElement(_.a,{src:me.a,size:a})}),rt=(a(145),a(58)),lt=(a(691),a(231)),ot=a(17),ct=a.n(ot),it=P.a.TextArea,st=function(e){var t=e.children,a=e.item,n=e.openReply,r=e.fatherId,l=e.levelOneId,o=e.levelTwoId,c=e.handleChange,i=e.handleKeyUp,s=e.onSubmit,u=e.renderAvatar,p=e.delComment,d=e.auth,h=e.value,f=a.replies?1:2;var g=Object(Ie.e)(a.content);return m.a.createElement(at.a,{actions:[m.a.createElement("span",{onClick:function(){return function(e){1===e?n(e,a.id):n(e,a.id,r)}(f)}},"Reply to"),m.a.createElement(m.a.Fragment,null,1===d&&m.a.createElement(lt.a,{title:"\u662f\u5426\u5220\u9664\u8be5\u8bc4\u8bba\uff1f",cancelText:"\u53d6\u6d88",okText:"\u786e\u8ba4",onConfirm:function(){return p(a,r)}},m.a.createElement(A.a,{type:"delete",className:"icon-delete"})))],author:m.a.createElement("span",null,a.user&&a.user.username),avatar:u(a),content:m.a.createElement("div",{className:"article-detail",dangerouslySetInnerHTML:{__html:g}}),datetime:m.a.createElement(rt.a,{title:a.createdAt},m.a.createElement("span",null,ct()(a.createdAt).fromNow()))},(1===f&&l===a.id||2===f&&o===a.id)&&m.a.createElement("div",{className:"reply-form"},m.a.createElement(it,{placeholder:"\u56de\u590d".concat(a.user.username,"..."),value:h,onChange:c,onKeyUp:i}),m.a.createElement("div",{className:"reply-form-controls"},m.a.createElement("span",{className:"tip"},"Ctrl or \u2318 + Enter"),m.a.createElement(V.a,{htmlType:"submit",type:"primary",disabled:!h.trim(),onClick:s},"\u56de\u590d"))),t)},ut=Object(z.b)(function(e){return{username:e.user.username,userId:e.user.userId,email:e.user.email,auth:e.user.auth,colorMap:e.common.colorMap}})(He=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={commentList:[],colorMap:{},commentId:0,levelOneId:0,levelTwoId:0,value:""},a.renderAvatar=function(e){var t=a.props,n=t.userId,r=t.colorMap;return 1===e.userId?m.a.createElement(nt,null):e.userId===n?m.a.createElement(_.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}):m.a.createElement(_.a,{className:"user-avatar",size:"default",style:{backgroundColor:r[e.userId]||"#ccc"}},e.user&&e.user.username)},a.openReply=function(e,t,n){1===e?a.setState({commentId:t,levelTwoId:0,levelOneId:t}):a.setState({levelOneId:0,levelTwoId:t,commentId:n})},a.handleChange=function(e){a.setState({value:e.target.value})},a.handleKeyUp=function(e){e.ctrlKey&&13===e.keyCode&&a.onSubmit()},a.onSubmit=function(){var e=a.state.value.trim();if(!a.props.username)return Y.a.warn("\u60a8\u672a\u767b\u9646\uff0c\u8bf7\u767b\u5f55\u540e\u518d\u8bd5\u3002");a.props.email||J.a.confirm({title:"\u6e29\u99a8\u63d0\u793a",content:"\u60a8\u672a\u7ed1\u5b9a\u90ae\u7bb1\uff0c\u662f\u5426\u8981\u7ed1\u5b9a\u90ae\u7bb1\u6765\u83b7\u53d6\u56de\u590d\u7684\u6700\u65b0\u52a8\u6001\u7684\u901a\u77e5\uff1f",onOk:function(){a.props.openAuthModal("updateUser")}});var t=a.props.articleId;a.axios.post("/user/reply",{content:e,articleId:t,commentId:a.state.commentId}).then(function(e){a.props.setCommentList(e.rows),a.setState({commentId:0,levelOneId:0,levelTwoId:0,value:""})})},a.delComment=function(e,t){e.replies?a.axios.delete("/comment/del",{params:{commentId:e.id}}).then(function(t){if(200!==t.code)return Y.a.error(t.message);var n=a.props.commentList.filter(function(t){return t.id!==e.id});a.props.setCommentList(n),Y.a.success(t.message)}):a.axios.delete("/reply/del",{params:{replyId:e.id}}).then(function(n){if(200!==n.code)return Y.a.error(n.message);var r=Object(C.a)(a.props.commentList);r.forEach(function(a){a.id===t&&(a.replies=a.replies.filter(function(t){return t.id!==e.id}))}),a.props.setCommentList(r),Y.a.success(n.message)})},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.commentList,a=e.auth,n=this.state,r=n.levelOneId,l=n.value,o=n.levelTwoId,c={value:l,auth:a,renderAvatar:this.renderAvatar,openReply:this.openReply,handleChange:this.handleChange,handleKeyUp:this.handleKeyUp,onSubmit:this.onSubmit,delComment:this.delComment};return m.a.createElement("div",{className:""},t.map(function(e){return m.a.createElement(st,Object.assign({key:e.id,item:e,levelOneId:r},c),e.replies.map(function(t){return m.a.createElement(st,Object.assign({key:t.id,item:t,levelTwoId:o,fatherId:e.id},c))}))}))}}]),t}(u.Component))||He,mt=P.a.TextArea,pt=function(e){var t=e.onChange,a=e.onSubmit,n=e.submitting,r=e.value,l=e.articleId;return m.a.createElement("div",null,m.a.createElement(Q.a.Item,null,m.a.createElement(mt,{rows:4,placeholder:"\u8bf4\u70b9\u4ec0\u4e48...",onChange:t,value:r})),m.a.createElement(Q.a.Item,null,m.a.createElement("div",{className:"controls"},m.a.createElement("i",{className:"iconfont icon-tips"}),m.a.createElement("span",{className:"support-tip"},"\u652f\u6301 Markdown \u8bed\u6cd5"),m.a.createElement(V.a,{className:"",htmlType:"submit",loading:n,onClick:a,type:"primary"},-1!==l?"\u6dfb\u52a0\u8bc4\u8bba":"\u7559\u8a00"))))},dt=Object(z.b)(function(e){return e.user},{openAuthModal:K,logout:W.b})((Je=Be=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={submitting:!1,value:""},a.handleSubmit=function(){if(a.state.value){if(!a.props.username)return Y.a.warn("\u60a8\u672a\u767b\u9646\uff0c\u8bf7\u767b\u5f55\u540e\u518d\u8bd5\u3002");a.props.email||J.a.confirm({title:"\u6e29\u99a8\u63d0\u793a",content:"\u60a8\u672a\u7ed1\u5b9a\u90ae\u7bb1\uff0c\u662f\u5426\u8981\u7ed1\u5b9a\u90ae\u7bb1\u6765\u83b7\u53d6\u56de\u590d\u7684\u6700\u65b0\u52a8\u6001\u7684\u901a\u77e5\uff1f",onOk:function(){a.props.openAuthModal("updateUser")}}),a.setState({submitting:!0}),a.axios.post("/user/comment",{articleId:a.props.articleId,content:a.state.value}).then(function(e){a.setState({submitting:!1,value:""},function(){return a.props.setCommentList(e.rows)})}).catch(function(e){return a.setState({submitting:!1})})}},a.handleChange=function(e){a.setState({value:e.target.value})},a.handleMenuClick=function(e){switch(e.key){case"login":a.props.openAuthModal("login");break;case"register":a.props.openAuthModal("register");break;case"updateUser":a.props.openAuthModal("updateUser");break;case"logout":a.props.logout()}},a.renderDropdownMenu=function(){return a.props.username?m.a.createElement(x.a,{onClick:a.handleMenuClick},m.a.createElement(x.a.Item,{key:"updateUser"},"\u4fee\u6539\u8d26\u6237\u4fe1\u606f"),m.a.createElement(x.a.Item,{key:"logout"},"\u6ce8\u9500")):m.a.createElement(x.a,{onClick:a.handleMenuClick},m.a.createElement(x.a.Item,{key:"login"},"\u767b\u5f55"),m.a.createElement(x.a.Item,{key:"register"},"\u6ce8\u518c"))},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state,t=e.submitting,a=e.value,n=this.props,r=n.username,l=n.articleId,o=n.userId,c=n.commentList;return m.a.createElement("div",{className:"comment-wrapper"},m.a.createElement("div",{className:"comment-header"},m.a.createElement("span",{className:"count"},Object(Ie.b)(c))," ",-1!==l?"\u6761\u8bc4\u8bba":"\u6761\u7559\u8a00",m.a.createElement("span",{className:"menu-wrap"},m.a.createElement(M.a,{overlay:this.renderDropdownMenu(),trigger:["click","hover"]},m.a.createElement("span",null,r||"\u672a\u767b\u5f55\u7528\u6237"," ",m.a.createElement(A.a,{type:"down"})))),m.a.createElement(se.a,{className:"hr"})),m.a.createElement(at.a,{avatar:r?m.a.createElement(u.Fragment,null,1!==o?m.a.createElement(_.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}):m.a.createElement(nt,null)):m.a.createElement(A.a,{type:"github",theme:"filled",style:{fontSize:40,margin:"5px 5px 0 0"}}),content:m.a.createElement(pt,{onChange:this.handleChange,onSubmit:this.handleSubmit,submitting:t,value:a,articleId:l})}),m.a.createElement(ut,{commentList:c,articleId:l,setCommentList:this.props.setCommentList}))}}]),t}(u.Component),Be.defaultProps={commentList:[]},Ge=Je))||Ge,ht=Object(z.b)(function(e){return{windowWidth:e.common.windowWidth,drawerVisible:e.common.drawerVisible}},{openDrawer:H,closeDrawer:G,generateColorMap:B})(Qe=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",content:"",tags:["react","javascript"],categories:[],postTime:"2019-01-01",commentList:[],loading:!0},a.fetchData=function(e){a.setState({loading:!0}),a.axios.get("/article/get/".concat(e)).then(function(e){var t=Object(Ie.e)(e.data.content),n=e.data,r=n.title,l=n.createdAt,o=n.tags,c=n.categories,i=n.comments;a.props.generateColorMap(i),a.setState({tags:o,categories:c,content:t,title:r,postTime:l.slice(0,10),commentList:i,loading:!1})}).catch(function(e){a.props.history.push("/404")})},a.setCommentList=function(e){return a.setState({commentList:e})},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.fetchData(e)}},{key:"componentWillReceiveProps",value:function(e){if(e.match.params.id!==this.props.match.params.id){var t=e.match.params.id;this.fetchData(t)}}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.tags,n=e.categories,r=e.content,l=e.postTime,o=e.commentList,c=e.loading,i=parseInt(this.props.match.params.id);return m.a.createElement("div",{className:"content-inner-wrapper article"},c?m.a.createElement(Fe,null):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"post-header"},m.a.createElement("h1",{className:"post-title"},t),m.a.createElement("div",{className:"others"},m.a.createElement("i",{className:"iconfont icon-post"}),"\xa0 Posted on \xa0",m.a.createElement("span",null,l),m.a.createElement(Le,{type:"tags",list:a}),m.a.createElement(Le,{type:"categories",list:n}),m.a.createElement(se.a,{type:"vertical"}),m.a.createElement(A.a,{type:"message",style:{marginRight:7}}),Object(Ie.b)(o))),m.a.createElement("div",{className:"article-detail",dangerouslySetInnerHTML:{__html:r}}),this.props.windowWidth>1300?m.a.createElement("div",{className:"right-navigation"},m.a.createElement(tt,{content:r})):m.a.createElement(u.Fragment,null,m.a.createElement("div",{className:"drawer-btn",onClick:this.props.openDrawer},m.a.createElement(A.a,{type:"menu-o",className:"nav-phone-icon"})),m.a.createElement(Ne.a,{title:t,placement:"right",closable:!1,onClose:this.props.closeDrawer,visible:this.props.drawerVisible},m.a.createElement("div",{className:"right-navigation"},m.a.createElement(tt,{content:r})))),m.a.createElement(dt,{articleId:i,commentList:o,setCommentList:this.setCommentList})))}}]),t}(u.Component))||Qe,ft=(a(216),a(64)),gt=(a(653),function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],total:0,current:1,loading:!1},a.handlePageChange=function(e){a.fetchList({page:e}),a.setState({current:e})},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.fetchList(1)}},{key:"fetchList",value:function(e){var t=this,a=e.page,n=void 0===a?1:a;this.setState({loading:!0}),this.axios.get("/article/getList",{params:{page:n,pageSize:15}}).then(function(e){var a=Object(Ie.c)(e.rows,function(e){return e.createdAt.slice(0,4)});t.setState({list:a,total:e.count,loading:!1})}).catch(function(e){return t.setState({loading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.list,a=e.total,n=e.loading,r=e.current;return m.a.createElement("div",{className:"content-inner-wrapper archives"},m.a.createElement(Me.a,{tip:"Loading...",spinning:n},m.a.createElement(ft.a,null,t.map(function(e,t){return m.a.createElement(u.Fragment,{key:t},0===t&&m.a.createElement(ft.a.Item,null,m.a.createElement("span",{className:"desc"},"Nice! ".concat(a," posts in total. Keep on posting.")),m.a.createElement("br",null),m.a.createElement("br",null)),m.a.createElement(ft.a.Item,{dot:m.a.createElement(A.a,{type:"clock-circle-o",style:{fontSize:"16px"}}),color:"red"},m.a.createElement("div",{className:"year"},e[0].createdAt.slice(0,4),"..."),m.a.createElement("br",null)),e.map(function(e){return m.a.createElement(ft.a.Item,{key:e.id},m.a.createElement("span",{style:{fontSize:"13px",marginRight:"16px"}},e.createdAt.slice(5,10)),m.a.createElement(T.a,{to:"/article/".concat(e.id)},e.title))}))})),t.length<a&&m.a.createElement(Ve,{current:parseInt(r)||1,onChange:this.handlePageChange,total:a,pageSize:15})))}}]),t}(u.Component)),bt=(a(242),a(188)),Et=(a(657),Object(z.b)(function(e){return{categoryList:e.article.categoryList,colorList:e.common.colorList}})(Xe=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.categoryList,a=e.colorList;return m.a.createElement("div",{className:"content-inner-wrapper categories"},m.a.createElement("h2",{className:"title"},"Categories"),m.a.createElement("p",{className:"category-all-title"},"".concat(t.length," categories in total")),m.a.createElement("div",{className:"categories-list"},t.map(function(e,t){return m.a.createElement(bt.a,{count:e.count,key:e.name},m.a.createElement(ie.a,{color:a[t]},m.a.createElement(T.a,{to:"/categories/".concat(e.name)},e.name)))})))}}]),t}(u.Component))||Xe),vt=(a(659),function(e){var t=e.list,a=e.name,n=e.type;return m.a.createElement("div",{className:"timeline"},m.a.createElement(ft.a,null,m.a.createElement(ft.a.Item,null,m.a.createElement("h1",{className:"list-title"},a,m.a.createElement("small",{className:"type-name"}," ","categories"===n?"Category":"Tag")),m.a.createElement("br",null)),t.map(function(e){return m.a.createElement(ft.a.Item,{key:e.id},m.a.createElement("span",{style:{fontSize:"13px",marginRight:"16px"}},e.createdAt.slice(5,10)),m.a.createElement(T.a,{to:"/article/".concat(e.id)},e.title))})))}),yt=Object(z.b)(function(e){return{windowWidth:e.common.windowWidth}})(Ye=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],page:1,total:0,type:"categories",name:"",loading:!1},a.decodeQuery=function(e){return{type:e.location.pathname.includes("categories")?"categories":"tags",name:e.match.params.name}},a.fetchList=function(e){var t=e.page,n=void 0===t?1:t,r=e.name,l=e.type;a.setState({loading:!0}),a.axios.get("/".concat(l,"/getArticles"),{params:{page:n,pageSize:15,name:r}}).then(function(e){a.setState({list:e.rows,total:e.count,loading:!1})}).catch(function(e){return a.setState({loading:!1})})},a.handlePageChange=function(e){var t=a.decodeQuery(a.props);a.setState({page:e},a.fetchList(Object(f.a)({page:e},t)))},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.decodeQuery(this.props);this.setState({type:e.type},this.fetchList(Object(f.a)({page:1},e)))}},{key:"componentWillReceiveProps",value:function(e){if(this.props.match.params.name!==e.match.params.name){var t=this.decodeQuery(e);this.fetchList(Object(f.a)({page:1},t))}}},{key:"render",value:function(){var e=this.state,t=e.list,a=e.type,n=e.page,r=e.total,l=e.loading,o=this.props.match.params.name;return m.a.createElement("div",{className:"content-inner-wrapper list-page"},m.a.createElement(Me.a,{tip:"Loading...",spinning:l},m.a.createElement(vt,{list:t,name:o,type:a})),t.length<r&&m.a.createElement(Ve,{current:parseInt(n)||1,onChange:this.handlePageChange,total:r,pageSize:15}))}}]),t}(u.Component))||Ye,Ot=(a(661),a(95)),jt=(a(664),{path:"/",name:"home",component:Oe,childRoutes:[{path:"",component:ze},{path:"archives",component:gt},{path:"article/:id",component:ht},{path:"categories",component:Et},{path:"categories/:name",component:yt},{path:"tags/:name",component:yt},{path:"about",component:Object(z.b)(null,{generateColorMap:B})($e=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={commentList:[]},a.fetchList=function(){a.axios.get("/comment/getAboutComments").then(function(e){a.props.generateColorMap(e.rows),a.setState({commentList:e.rows})})},a.setCommentList=function(e){return a.setState({commentList:e})},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"render",value:function(){return m.a.createElement("div",{className:"content-inner-wrapper about"},m.a.createElement(nt,null),m.a.createElement("span",{className:"desc"},"\u524d\u7aef\u6253\u6742\u4eba\u5458\uff0c\u7565\u5fae\u4ee3\u7801\u6d01\u7656"),m.a.createElement(se.a,{orientation:"left"},"\u535a\u5ba2\u7b80\u8ff0"),m.a.createElement("p",null,"\u672c\u535a\u5ba2\u4f7f\u7528\u7684\u6280\u672f\u4e3a react v16.8 + antd + koa2 + mysql"),m.a.createElement("p",null,"\u6e90\u7801\u5730\u5740\u4e3a"," ",m.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://github.com/gershonv/react-blog"},"github"),"\uff0c\u4ec5\u4f9b\u53c2\u8003\uff0c\u4e0d\u505a\u5546\u4e1a\u7528\u9014\uff01"),m.a.createElement(se.a,{orientation:"left"},"\u5173\u4e8e\u6211"),m.a.createElement("ul",{className:"about-list"},m.a.createElement("li",null,"\u59d3\u540d\uff1a\u90ed\u5c11\u5a01"),m.a.createElement("li",null,"\u5b66\u5386\u4e13\u4e1a\uff1a\u672c\u79d1 \u8f6f\u4ef6\u5de5\u7a0b"),m.a.createElement("li",null,"\u8054\u7cfb\u65b9\u5f0f\uff1a",m.a.createElement(A.a,{type:"qq"})," 434358603",m.a.createElement(se.a,{type:"vertical"}),m.a.createElement("i",{className:"iconfont icon-email"}),m.a.createElement("a",{href:"mailto:gershonv@163.com"},"gershonv@163.com")),m.a.createElement("li",null,"\u5750\u6807\uff1a\u5e7f\u5dde\u5e02"),m.a.createElement("li",null,"\u5176\u4ed6\u535a\u5ba2\u5730\u5740\uff1a",m.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://gershonv.github.io/"},"hexo \u535a\u5ba2"),m.a.createElement(se.a,{type:"vertical"}),m.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:"https://juejin.im/user/5acac6c4f265da2378408f92"},"\u6398\u91d1\u4e3b\u9875")),m.a.createElement("li",null,"\u6280\u80fd",m.a.createElement("ul",null,m.a.createElement("li",null,"HTML\u3001CSS\u3001Javascript\uff1a\u80fd\u719f\u7ec3\u5f00\u53d1\u7b26\u5408 W3C \u6807\u51c6\u7684\u9875\u9762\uff01",m.a.createElement(Ot.a,{defaultValue:3,disabled:!0})),m.a.createElement("li",null,"react vue \u6846\u67b6\uff1a\u719f\u7ec3\u638c\u63e1\u4f7f\u7528\uff01",m.a.createElement(Ot.a,{defaultValue:3,disabled:!0})),m.a.createElement("li",null,"es6\uff1a\u65e5\u5e38\u5f00\u53d1\u5fc5\u5907\uff0c\u4ee5\u53ca\u638c\u63e1\u57fa\u672c\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u5b9e\u73b0\uff01",m.a.createElement(Ot.a,{defaultValue:3,disabled:!0})),m.a.createElement("li",null,"webpack: \u5165\u95e8\u7ea7\u522b\uff0c\u53ef\u4ee5\u5bf9\u811a\u624b\u67b6\u8fdb\u884c\u9488\u5bf9\u6027\u7684\u914d\u7f6e\uff01",m.a.createElement(Ot.a,{defaultValue:2,disabled:!0})),m.a.createElement("li",null,"node mysql\uff1a\u9488\u5bf9\u9700\u6c42\u53ef\u4ee5\u505a\u5230\u7b80\u5355\u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u3001\u63a5\u53e3\u7684\u5f00\u53d1\u4e0e\u8bbe\u8ba1\uff01",m.a.createElement(Ot.a,{defaultValue:2,disabled:!0})))),m.a.createElement("li",null,"\u5176\u4ed6",m.a.createElement("ul",null,m.a.createElement("li",null,"\u5e38\u7528\u5f00\u53d1\u5de5\u5177\uff1a vscode\u3001webstorm\u3001git"),m.a.createElement("li",null,"\u719f\u6089\u7684 UI \u5de5\u5177\uff1a antd\u3001element-ui\u3001vux"),m.a.createElement("li",null,"\u826f\u597d\u7684\u4ee3\u7801\u4e60\u60ef\uff1a \u7565\u5fae\u4ee3\u7801\u6d01\u7656\u3001\u6ce8\u91ca\u89c4\u8303 jsdoc"))),m.a.createElement("li",null,"\u4e2a\u4eba",m.a.createElement("ul",null,m.a.createElement("li",null,"\u5076\u5c14\u73a9\u73a9\u6e38\u620f\u3001\u770b\u770b\u4e66"),m.a.createElement("li",null,"\u6162\u70ed\u578b\u3001\u5e73\u5e38\u6bd4\u8f83\u597d\u8bf4\u8bdd\u3002\u8054\u7cfb\u65b9\u5f0f\u5728\u4e0a\u9762\uff0c\u6b22\u8fce\u4ea4\u6d41\uff01")))),m.a.createElement(dt,{articleId:-1,commentList:this.state.commentList,setCommentList:this.setCommentList}))}}]),t}(u.Component))||$e},{path:"*",component:we}]}),kt=a(172),wt=a.n(kt),Ct=a(186),Nt=function(e){return function(t){function a(e){var t;return Object(g.a)(this,a),(t=Object(E.a)(this,Object(v.a)(a).call(this,e))).state={component:null},t}return Object(y.a)(a,t),Object(b.a)(a,[{key:"componentDidMount",value:function(){var t=Object(Ct.a)(wt.a.mark(function t(){var a,n;return wt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:a=t.sent,n=a.default,this.setState({component:n});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e?m.a.createElement(e,this.props):m.a.createElement(De,null)}}]),a}(u.Component)},It=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"examples-layout"},m.a.createElement("div",{className:"examples-page-container"},this.props.children))}}]),t}(u.Component),Lt=function(e){var t=e.routes,a=e.contextPath;return m.a.createElement("ul",{style:{margin:"inherit",listStyle:"inherit"}},t.map(function(e){return function e(t,a){var n=t.path.replace(/:.+/,"1");return m.a.createElement("li",{key:t.path},m.a.createElement(T.a,{to:"".concat(a,"/").concat(n)},t.name||t.path),t.childRoutes&&m.a.createElement("ul",{style:{margin:"inherit",listStyle:"inherit"}},t.childRoutes.map(function(n){return e(n,"".concat(a,"/").concat(t.path))})))}(e,a)}))},St=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("h1",null,"ExampleIndex"),m.a.createElement(Lt,{routes:Kt.childRoutes,contextPath:"/examples"}))}}]),t}(u.Component),Mt=(a(668),a(235)),xt=(a(243),a(187)),At=(a(144),a(52)),Tt=At.a.Option,Rt=[{value:0,label:"Male"},{value:1,label:"Female"}].map(function(e){return m.a.createElement(Tt,{key:e.value,value:e.value},e.label)}),Pt={colon:!0,columns:1,elements:[{key:"userName",label:"User name",tooltip:"user name",initialValue:"Nate",widget:P.a,rules:[{required:!0,message:"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"}],formItemProps:{}},{key:"password",label:"Password",widget:m.a.createElement(P.a,{type:"password",prefix:m.a.createElement(A.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"please input your password"}),required:!0},{key:"date",label:"Birth date",widget:m.a.createElement(xt.a,{style:{width:"100%"}})},{key:"gender",label:"Gender",initialValue:"female",widget:At.a,children:Rt},{key:"phone",label:"Phone",widget:P.a,required:!0,rules:[{pattern:/^\d+$/,message:"Phone must only contain numbers."},{min:11,message:"Phone number at least lenght of 11"}]},{key:"age",label:"Age",initialValue:10,widget:Mt.a},{key:"email",label:"Email",widget:P.a,rules:[{type:"email",message:"Please input valid email address."}]}]},Dt=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).resetForm=function(){a.props.form.resetFields()},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||console.log("submit form: ",t)})},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return m.a.createElement(Q.a,{onSubmit:this.handleSubmit,layout:"horizontal",style:{width:"400px"}},m.a.createElement(Z.a,{meta:Pt,form:this.props.form},m.a.createElement(V.a,{type:"primary",htmlType:"submit"},"Submit"),"\xa0 \xa0",m.a.createElement(V.a,{onClick:this.resetForm},"Reset")))}}]),t}(u.Component),Ft=Q.a.create()(Dt),Ut=At.a.Option,Vt={colon:!0,columns:1,elements:[{id:"userName",label:"User name",tooltip:"user name",widget:P.a,required:!0},{id:"job",label:"Job"},{id:"title",label:"Title",widget:P.a}]},_t=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={jobs:null},a.resetForm=function(){a.props.form.resetFields()},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||console.log("submit form: ",t)})},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.setTimeout(function(){e.setState({jobs:["Software Engineer","Student","Doctor"]},function(){e.props.form.setFieldsValue({job:"Software Engineer"})})},2e3)}},{key:"getMeta",value:function(){var e=this;return Object(f.a)({},Vt,{elements:Vt.elements.map(function(t){return"job"===t.id?Object(f.a)({},t,{widget:At.a,initialValue:"loading",children:e.state.jobs?e.state.jobs.map(function(e){return m.a.createElement(Ut,{key:e},e)}):m.a.createElement(Ut,{key:"loading"},"Loading...")}):"title"===t.id&&"Software Engineer"!==e.props.form.getFieldValue("job")?null:t})})}},{key:"render",value:function(){return m.a.createElement(Q.a,{onSubmit:this.handleSubmit,layout:"horizontal",style:{width:"400px"}},m.a.createElement(Z.a,{meta:this.getMeta(),form:this.props.form,dynamic:!0},m.a.createElement(V.a,{type:"primary",htmlType:"submit"},"Submit"),"\xa0 \xa0",m.a.createElement(V.a,{onClick:this.resetForm},"Reset")))}}]),t}(u.Component),zt=Q.a.create()(_t),Wt=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).renderComponent=function(e){return{1:m.a.createElement(Ft,null),2:m.a.createElement(zt,null)}[e]},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return this.renderComponent(this.props.match.params.formId)}}]),t}(u.Component),qt=Object(u.lazy)(function(){return a.e(0).then(a.bind(null,781))}),Kt={path:"examples",component:It,childRoutes:[{path:"",name:"Welcome page",component:St},{path:"form/:formId",component:Wt},{path:"code-splitting",component:function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return m.a.createElement(u.Suspense,{fallback:m.a.createElement(Fe,null)},m.a.createElement("h1",null,"CodeSplitting"),m.a.createElement(qt,null),m.a.createElement("br",null))}}]),t}(u.Component)},{path:"demo",component:Nt(function(){return a.e(0).then(a.bind(null,781))})},{path:"auth",protected:!0,component:Nt(function(){return a.e(5).then(a.bind(null,789))})},{path:"markdown",childRoutes:[{path:"write",component:Nt(function(){return Promise.all([a.e(2),a.e(6)]).then(a.bind(null,782))})},{path:"show",component:Nt(function(){return a.e(7).then(a.bind(null,794))})}]},{path:"hooks",component:Nt(function(){return a.e(8).then(a.bind(null,785))})},{path:"test",component:Nt(function(){return a.e(9).then(a.bind(null,783))})}]},Ht=a(780),Gt=x.a.SubMenu,Bt=Object(D.a)(Ze=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={openKeys:[],selectedKeys:[]},a.renderMenu=function(e){return e.childRoutes.map(function(e){return function e(t,a){var n=t.path?"".concat(a,"/").concat(t.path):a;return t.childRoutes?m.a.createElement(Gt,{title:m.a.createElement("span",null,t.icon&&m.a.createElement(A.a,{type:t.icon}),m.a.createElement("span",null,t.name)),key:n},t.childRoutes.map(function(t){return e(t,n)})):t.name&&m.a.createElement(x.a.Item,{key:n},m.a.createElement(Ht.a,{to:n},t.icon&&m.a.createElement(A.a,{type:t.icon}),m.a.createElement("span",null,t.name)))}(e,"/admin")})},a.onOpenChange=function(e){a.setState({openKeys:e})},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname,t=e.lastIndexOf("/"),a=[e.slice(0,t)];this.setState({selectedKeys:[e],openKeys:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.openKeys,n=t.selectedKeys;return m.a.createElement("div",{className:"sibar-container",style:{height:"100vh"}},m.a.createElement(x.a,{openKeys:a,selectedKeys:n,onOpenChange:this.onOpenChange,onClick:function(t){var a=t.key;return e.setState({selectedKeys:[a]})},theme:"dark",mode:"inline"},this.renderMenu(na)))}}]),t}(u.Component))||Ze,Jt=(a(675),Object(z.b)(null,{logout:W.b})(et=Object(D.a)(et=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){console.log(a.props),a.props.history.push("/login")},a.renderDropDownMenu=function(){return m.a.createElement(x.a,{className:"menu"},m.a.createElement(x.a.Item,null,m.a.createElement("span",{onClick:function(){return a.props.history.push("/")}},"\u8fd4\u56de\u4e3b\u9875")),m.a.createElement(x.a.Item,null,m.a.createElement("span",{onClick:a.handleLogout},"\u9000\u51fa\u767b\u5f55")))},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.collapsed;return m.a.createElement("div",{className:"admin-header-container"},m.a.createElement(A.a,{type:e?"menu-unfold":"menu-fold",className:"trigger",onClick:this.props.onToggle}),m.a.createElement("div",{className:"header-right"},m.a.createElement(M.a,{overlay:this.renderDropDownMenu()},m.a.createElement("span",null,m.a.createElement(nt,{size:"large"})))))}}]),t}(u.Component))||et)||et),Qt=S.a.Sider,Xt=S.a.Header,Yt=S.a.Content,$t=S.a.Footer,Zt=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1},a.toggle=function(){a.setState(function(e){return{collapsed:!e.collapsed}})},a}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"admin-container"},m.a.createElement(S.a,null,m.a.createElement(Qt,{collapsible:!0,trigger:null,collapsed:this.state.collapsed},m.a.createElement(Bt,null)),m.a.createElement(S.a,null,m.a.createElement(Xt,{style:{background:"#fff",padding:"0 16px"}},m.a.createElement(Jt,{collapsed:this.state.collapsed,onToggle:this.toggle})),m.a.createElement(Yt,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},this.props.children),m.a.createElement($t,{style:{textAlign:"center"}},"React-Admin \xa92019 Created by gershonv@163.com "))))}}]),t}(u.Component),ea=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,"admin home")}}]),t}(u.Component),ta=Nt(function(){return Promise.all([a.e(2),a.e(10)]).then(a.bind(null,788))}),aa=Nt(function(){return a.e(1).then(a.bind(null,784))}),na={path:"admin",component:Zt,childRoutes:[{path:"",icon:"home",name:"\u9996\u9875",component:ea},{path:"articles",icon:"edit",name:"\u6587\u7ae0\u7ba1\u7406",childRoutes:[{path:"edit",icon:"edit",name:"\u65b0\u589e\u6587\u7ae0",component:ta},{path:"manage",icon:"folder",name:"\u7ba1\u7406\u6587\u7ae0",component:Nt(function(){return Promise.all([a.e(3),a.e(11)]).then(a.bind(null,790))})}]},{path:"usermanage",name:"\u7528\u6237\u7ba1\u7406",icon:"user",component:Nt(function(){return Promise.all([a.e(3),a.e(12)]).then(a.bind(null,792))})},{path:"login",component:aa},{path:"*",component:we}]},ra=Nt(function(){return a.e(1).then(a.bind(null,784))}),la=[na,{path:"",childRoutes:[{path:"login",component:ra}]},jt];var oa=Object(C.a)(la.filter(function(e){return e.component||e.childRoutes&&e.childRoutes.length>0}));oa.forEach(function e(t){if(t.childRoutes&&t.childRoutes.length){var a=t.childRoutes.find(function(e){return e.isIndex});if(a){var n=Object(f.a)({},a);n.path="",n.exact=!0,n.autoIndexRoute=!0,t.childRoutes.unshift(n)}t.childRoutes.forEach(e)}});var ca,ia,sa,ua=oa,ma=a(62),pa=Object(z.b)(function(e){return e.user},{getTags:function(){return function(e){return ma.a.get("/tags/getList").then(function(t){e({type:q.l,payload:t.data})})}},getCategories:function(){return function(e){return ma.a.get("/categories/getList").then(function(t){e({type:q.c,payload:t.data})})}},getWindowWidth:function(){var e=document.getElementsByTagName("body")[0];return{type:q.f,payload:e.clientWidth}}})((sa=ia=function(e){function t(){return Object(g.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.getTags(),this.props.getCategories(),this.props.getWindowWidth()}},{key:"renderRoutes",value:function(e,t){var a=this,n=[];return e.forEach(function(e){return function e(t,r){var l=t.path?"".concat(r,"/").concat(t.path):r;if(l=l.replace(/\/+/g,"/"),(t.protected||l.includes("admin"))&&1!==a.props.auth&&(t=Object(f.a)({},t,{component:function(){return m.a.createElement(O.a,{to:"/login"})},children:[]})),t.component&&t.childRoutes){var o=a.renderRoutes(t.childRoutes,l);n.push(m.a.createElement(j.a,{key:l,render:function(e){return m.a.createElement(t.component,e,o)},path:l}))}else t.component?n.push(m.a.createElement(j.a,{key:l,component:t.component,path:l,exact:!0})):t.childRoutes&&t.childRoutes.forEach(function(t){return e(t,l)})}(e,t)}),m.a.createElement(k.a,null,n)}},{key:"render",value:function(){var e=this.renderRoutes(ua,"/");return m.a.createElement(w.a,null,e)}}]),t}(u.Component),ia.defaultProps={isLogin:!1},ca=sa))||ca,da=a(233),ha=a(61),fa=(a(677),a(678),{count:11,isLogin:!1}),ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa;switch((arguments.length>1?arguments[1]:void 0).type){case q.h:return Object(f.a)({},e,{count:++e.count});case q.i:return Object(f.a)({},e,{isLogin:!0});case q.j:return Object(f.a)({},e,{isLogin:!1});default:return e}},ba={colorList:["magenta","blue","red","volcano","orange","gold","lime","green","cyan","geekblue","purple"],authModalVisible:!1,authModalType:"",windowWidth:0,drawerVisible:!1,colorMap:{}},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case q.b:return Object(f.a)({},e,{authModalVisible:!0,authModalType:n});case q.a:return Object(f.a)({},e,{authModalVisible:!1,authModalType:""});case q.f:return Object(f.a)({},e,{windowWidth:n});case q.g:return Object(f.a)({},e,{drawerVisible:!0});case q.d:return Object(f.a)({},e,{drawerVisible:!1});case q.e:var r=Object(Ie.c)(n,function(e){return e.userId}),l=e.colorList,o={};return r.forEach(function(e){o[e[0].userId]=l[Object(Ie.d)(l)],e[0].replies.forEach(function(e){o[e.userId]||(o[e.userId]=l[Object(Ie.d)(l)])})}),Object(f.a)({},e,{colorMap:o});default:return e}},va={categoryList:[],tagList:[],recentList:[]},ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case q.c:return Object(f.a)({},e,{categoryList:n});case q.l:return Object(f.a)({},e,{tagList:n});default:return e}},Oa=a(180),ja=a.n(Oa),ka={userId:0,username:"",auth:0,email:"",avatarColor:"#52c41a"};if(localStorage.getItem("token")&&"undefined"!==localStorage.getItem("token")){var wa=ja()(localStorage.token),Ca=wa.userId,Na=wa.username,Ia=wa.auth,La=wa.email;ka=Object.assign(ka,{userId:Ca,username:Na,auth:Ia,email:La})}var Sa,Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case q.m:var r=ja()(n.token),l=r.userId,o=r.username,c=r.auth,i=r.email;return Object(f.a)({},e,{userId:l,username:o,auth:c,email:i});case q.n:return{id:0,username:"",auth:0,avatarColor:"#52c41a",email:""};default:return e}},xa=Object(ha.combineReducers)({demo:ga,common:Ea,article:ya,user:Ma});Sa=Object(ha.compose)(Object(ha.applyMiddleware)(da.a));var Aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(ha.createStore)(xa,e,Sa)}(),Ta=(a(681),a(683),a(124)),Ra=a.n(Ta),Pa=a(174),Da=a.n(Pa);a(685),a(687);Ra.a.registerLanguage("javascript",Da.a),m.a.Component.prototype.axios=ma.a;var Fa;Fa=pa,d.a.render(m.a.createElement(h.AppContainer,null,m.a.createElement(z.a,{store:Aa},m.a.createElement(Fa,null))),document.getElementById("root"))},86:function(e,t,a){"use strict";var n=a(87),r=a(19),l=(a(145),a(58)),o=(a(40),a(4)),c=(a(113),a(70)),i=(a(114),a(59)),s=a(11),u=a(12),m=a(15),p=a(13),d=a(14),h=a(105),f=(a(98),a(43)),g=a(0),b=a.n(g),E=f.a.Item;function v(e,t){var a={};return t.forEach(function(t){t in e&&(a[t]=e[t])}),a}function y(e,t){var a;return"function"===typeof e.widget?a=b.a.createElement(e.widget,t,e.children||null):"object"===typeof e.widget&&(a=e.widget),a}var O={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(d)))).renderLayout=function(e){var t=a.props.meta.columns||1;if(1===t)return e;for(var n=a.props.meta.gutter||0,r=[],l=24/t,o=0;o<e.length;o+=t){for(var s=[],u=0;u<t;u+=1)s.push(b.a.createElement(i.a,{key:u,span:l.toString()},e[o+u]));r.push(b.a.createElement(c.a,{key:o,gutter:n},s))}return r},a.renderElement=function(e,t){var c=a.getMeta();if(!e)return null;var i=e.tooltip?b.a.createElement("span",null,e.label,b.a.createElement(l.a,{title:e.tooltip}," ",b.a.createElement(o.a,{type:"question-circle-o"}))):e.label,s=Object(r.a)({key:e.id||e.key,colon:c.colon},c.formItemLayout||(e.label?O:null),{label:i},v(e,["help","extra","labelCol","wrapperCol","colon","hasFeedback","validateStatus"]),e.formItemProps);if(e.render)return e.render.call(Object(h.a)(Object(h.a)(a)),{formItemProps:s,element:e,disabled:a.props.disabled});var u=e.rules||[];e.required&&(u=[].concat(Object(n.a)(u),[{required:!0,message:"".concat(e.label||e.id||e.key," is required.")}]));var m=Object(r.a)({},v(e,["getValueFromEvent","initialValue","normalize","preserve","trigger","valuePropName","validateTrigger","validateFirst"]),{rules:u},e.fieldProps),p=e.widgetProps||{},d=Object(r.a)({},v(e,["placeholder","type","className","class"]),p,{disabled:e.disabled||p.disabled||a.props.disabled}),f=a.props.form.getFieldDecorator;if(c.elements&&a.props.children&&function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return e?t.filter(function(e){return!!e}).length-1:t.length-1}(a.props.dynamic,c.elements)===t){var j=function(e){var t=e.labelCol,a={xs:{},sm:{}};for(var n in t)24===t[n].span?(a[n].offset=0,a[n].span=24):(a[n].offset=t[n].span,a[n].span=24-t[n].span);return a}(s);return b.a.createElement(g.Fragment,{key:e.id||e.key},b.a.createElement(E,s,f(e.id||e.key,m)(y(e,d))),b.a.createElement(E,{wrapperCol:j,key:t+1},a.props.children))}return b.a.createElement(E,s,f(e.id||e.key,m)(y(e,d)))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getMeta",value:function(){var e=this.props.meta;return e.elements?e:{elements:[e]}}},{key:"render",value:function(){return this.renderLayout(this.getMeta().elements.map(this.renderElement))}}]),t}(g.Component);j.defaultProps={disabled:!1,one:!1},t.a=j}},[[255,14,13]]]);
//# sourceMappingURL=main.bc25c831.chunk.js.map