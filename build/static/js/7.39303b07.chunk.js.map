{"version":3,"sources":["examples/markdown/navigation.jsx","examples/markdown/show.jsx"],"names":["Link","getAnchorList","str","list","replace","$0","$1","title","href","concat","pushItem","arr","item","matchItem","length","tag","children","push","Navigation","_ref","article","react_default","a","createElement","es_anchor","affix","map","renderLink","_ref2","key","sub","Show","state","markdownText","anchors","_this2","this","axios","get","then","res","setState","content","onClick","handleClick","className","navigation","dangerouslySetInnerHTML","__html","Component"],"mappings":"+KAEQA,WAGR,SAASC,EAAcC,GACrB,IACIC,EAAO,GAsBX,OAXAD,EAAIE,QAZY,+BAYK,SAACC,EAAIC,GACxB,IAAMC,EAAQF,EAAGD,QAAQ,OAAQ,IAC3BI,EAAI,IAAAC,OAAOF,EAAMH,QAAQ,MAAO,OAZxC,SAASM,EAASC,EAAKC,GACrB,IACMC,EAAYF,EADNA,EAAIG,OACY,GACxBD,GAAaA,EAAUE,MAAQH,EAAKG,IACtCL,EAASG,EAAUG,SAAUJ,GAE7BD,EAAIM,KAAKL,GAaXF,CAASP,EANW,CAClBY,IAAKT,EACLC,QACAC,OACAQ,SAAU,OAIPb,EAGT,IAYee,EAZI,SAAAC,GAAiB,IAC5BhB,EAAOF,EADqBkB,EAAdC,SASpB,OAAOC,EAAAC,EAAAC,cAAAC,EAAA,GAAQC,OAAO,GAAQtB,EAAKuB,IAPnC,SAASC,EAATC,GAA+C,IAAzBpB,EAAyBoB,EAAzBpB,KAAMD,EAAmBqB,EAAnBrB,MAAOS,EAAYY,EAAZZ,SACjC,OACEK,EAAAC,EAAAC,cAACvB,EAAD,CAAM6B,IAAKrB,EAAMA,KAAMA,EAAMD,MAAOA,GACjCS,EAASF,OAAS,GAAKE,EAASU,IAAI,SAAAI,GAAG,OAAIH,EAAWG,UClCzDC,6MACJC,MAAQ,CAAEC,aAAc,GAAIC,QAAS,uFAEjB,IAAAC,EAAAC,KAClBA,KAAKC,MAAMC,IAAI,gBAAgBC,KAAK,SAAAC,GAClCL,EAAKM,SAAS,CAAER,aAAcO,EAAIE,6CAI7B,IACCT,EAAiBG,KAAKJ,MAAtBC,aACR,OACEZ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQoB,QAASP,KAAKQ,aAAtB,SACAvB,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,QACbxB,EAAAC,EAAAC,cAACuB,EAAD,CAAY1B,QAASa,KAGvBZ,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,iBAAiBE,wBAAyB,CAAEC,OAAQZ,KAAKJ,MAAMC,gBAE9EZ,EAAAC,EAAAC,cAAA,KAAGf,KAAK,MAAR,cApBWyC,aA0BJlB","file":"static/js/7.39303b07.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Anchor } from 'antd'\r\nconst { Link } = Anchor\r\n\r\n// 根据 article 来生成锚点列表\r\nfunction getAnchorList(str) {\r\n  const pattern = /<(h[1-6])[\\s\\S]+?(?=<\\/\\1>)/g\r\n  let list = []\r\n  function pushItem(arr, item) {\r\n    const len = arr.length\r\n    const matchItem = arr[len - 1]\r\n    if (matchItem && matchItem.tag !== item.tag) {\r\n      pushItem(matchItem.children, item)\r\n    } else {\r\n      arr.push(item)\r\n      // debugger\r\n    }\r\n  }\r\n  str.replace(pattern, ($0, $1) => {\r\n    const title = $0.replace(/.*?>/, '')\r\n    const href = `#${title.replace(/\\s/g, '-')}` // 转化为锚地可跳转的路径\r\n    const currentItem = {\r\n      tag: $1, // 标签类型\r\n      title,\r\n      href,\r\n      children: []\r\n    }\r\n    pushItem(list, currentItem)\r\n  })\r\n  return list\r\n}\r\n\r\nconst Navigation = ({ article }) => {\r\n  const list = getAnchorList(article)\r\n  function renderLink({ href, title, children }) {\r\n    return (\r\n      <Link key={href} href={href} title={title}>\r\n        {children.length > 0 && children.map(sub => renderLink(sub))}\r\n      </Link>\r\n    )\r\n  }\r\n  return <Anchor affix={false}>{list.map(renderLink)}</Anchor>\r\n}\r\n\r\nexport default Navigation\r\n","import React, { Component } from 'react'\r\nimport Navigation from './navigation'\r\n\r\nclass Show extends Component {\r\n  state = { markdownText: '', anchors: [] }\r\n\r\n  componentDidMount() {\r\n    this.axios.get('/examples/md').then(res => {\r\n      this.setState({ markdownText: res.content })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { markdownText } = this.state\r\n    return (\r\n      <div>\r\n        <button onClick={this.handleClick}>click</button>\r\n        <div className=\"test\">\r\n          <Navigation article={markdownText} />\r\n        </div>\r\n\r\n        <div className=\"article-detail\" dangerouslySetInnerHTML={{ __html: this.state.markdownText }} />\r\n\r\n        <a href=\"#a\">aa</a>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Show\r\n"],"sourceRoot":""}